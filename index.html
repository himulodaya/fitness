<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2c3e50">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="FORCE Tracker">
    <meta name="description" content="6-Week FORCE Preparation Training Program Tracker for Canadian Armed Forces">

    <title>FORCE Preparation Guide - Workout Tracker</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">

    <!-- Google API -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>FORCE Preparation Guide</h1>
            <p>6-Week Training Program Tracker</p>
            <button id="installButton" class="install-button" style="display: none;">
                ðŸ“± Install App
            </button>
        </div>

        <div class="main-content">
            <div class="nav-tabs">
                <button class="tab-button active" onclick="showSection('overview')">Overview</button>
                <button class="tab-button" onclick="showSection('challenges')">Fitness Challenges</button>
                <button class="tab-button" onclick="showSection('workouts')">Workouts</button>
                <button class="tab-button" onclick="showSection('schedule')">Schedule</button>
                <button class="tab-button" onclick="showSection('about')">About FORCE</button>
            </div>

            <!-- Overview Section -->
            <div id="overview" class="section active">
                <div class="info-card">
                    <h3>Welcome to Your FORCE Preparation Journey!</h3>
                    <p>This 6-week structured program is designed to prepare Canadian Armed Forces personnel for the FORCE evaluation by improving strength, endurance, and mobility.</p>
                </div>

                <div class="program-selector">
                    <div class="program-card selected" onclick="selectProgram('sandbag')">
                        <h3>ðŸŽ’ With Sandbag</h3>
                        <p>Full program with sandbag exercises</p>
                    </div>
                    <div class="program-card" onclick="selectProgram('bodyweight')">
                        <h3>ðŸ’ª Without Sandbag</h3>
                        <p>Bodyweight program with minimal equipment</p>
                    </div>
                </div>

                <div class="about-section">
                    <h2>Program Overview</h2>
                    <p>Each week includes:</p>
                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                        <li><strong>3 Strength & Conditioning Days:</strong> Full workouts with warm-up, strength circuits, conditioning, and cool-down</li>
                        <li><strong>1-2 Mobility Days:</strong> Light cardio, dynamic stretches, and static stretches</li>
                        <li><strong>Rest Days:</strong> Essential for recovery and progress</li>
                    </ul>
                    <p><strong>Workout Structure:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Dynamic Warm-up</li>
                        <li>Strength Circuit (Supersets)</li>
                        <li>Conditioning Circuit</li>
                        <li>Core Work</li>
                        <li>Cool-Down Stretches</li>
                    </ul>
                </div>
            </div>

            <!-- Fitness Challenges Section -->
            <div id="challenges" class="section">
                <div class="info-card">
                    <h3>Track Your Progress</h3>
                    <p>Complete these challenges before Week 1 and after Week 6 to measure your improvement!</p>
                </div>

                <div class="challenge-section">
                    <div class="challenge-card">
                        <h3>Challenge 1: Hand Release Burpees</h3>
                        <p style="margin-bottom: 15px; color: #555;">Max repetitions in 60 seconds</p>
                        <div class="challenge-inputs">
                            <div class="challenge-input-group">
                                <label>Before Week 1:</label>
                                <input type="number" id="burpees-before" placeholder="0">
                            </div>
                            <div class="challenge-input-group">
                                <label>After Week 6:</label>
                                <input type="number" id="burpees-after" placeholder="0">
                            </div>
                        </div>
                    </div>

                    <div class="challenge-card">
                        <h3>Challenge 2: Wall Chair Hold</h3>
                        <p style="margin-bottom: 15px; color: #555;">Maximum hold time (seconds)</p>
                        <div class="challenge-inputs">
                            <div class="challenge-input-group">
                                <label>Before Week 1:</label>
                                <input type="number" id="wall-chair-before" placeholder="0">
                            </div>
                            <div class="challenge-input-group">
                                <label>After Week 6:</label>
                                <input type="number" id="wall-chair-after" placeholder="0">
                            </div>
                        </div>
                    </div>

                    <div class="challenge-card">
                        <h3>Challenge 3: 1000m Run/Walk</h3>
                        <p style="margin-bottom: 15px; color: #555;">Complete as fast as possible (minutes:seconds)</p>
                        <div class="challenge-inputs">
                            <div class="challenge-input-group">
                                <label>Before Week 1:</label>
                                <input type="text" id="run-before" placeholder="5:30">
                            </div>
                            <div class="challenge-input-group">
                                <label>After Week 6:</label>
                                <input type="text" id="run-after" placeholder="5:00">
                            </div>
                        </div>
                    </div>
                </div>

                <button class="save-button" onclick="saveChallenges()">Save Challenge Scores</button>
            </div>

            <!-- Workouts Section -->
            <div id="workouts" class="section">
                <div class="week-selector">
                    <button class="week-button active" onclick="selectWeek(1)">Week 1</button>
                    <button class="week-button" onclick="selectWeek(2)">Week 2</button>
                    <button class="week-button" onclick="selectWeek(3)">Week 3</button>
                    <button class="week-button" onclick="selectWeek(4)">Week 4</button>
                    <button class="week-button" onclick="selectWeek(5)">Week 5</button>
                    <button class="week-button" onclick="selectWeek(6)">Week 6</button>
                </div>

                <div class="day-tabs">
                    <button class="day-button active" onclick="selectDay(1)">Day 1</button>
                    <button class="day-button" onclick="selectDay(2)">Day 2</button>
                    <button class="day-button" onclick="selectDay(3)">Day 3</button>
                    <button class="day-button" onclick="selectDay(4)">Day 4</button>
                </div>

                <div id="workout-display">
                    <!-- Workout content will be inserted here -->
                </div>

                <button class="save-button" onclick="saveProgress()">Save Progress</button>
                <button class="reset-button" onclick="resetWeek()">Reset This Week</button>
            </div>

            <!-- Schedule Section -->
            <div id="schedule" class="section">
                <div class="info-card">
                    <h3>Customize Your Weekly Schedule</h3>
                    <p>Select which days you'll train. Day order (1-4) is always followed.</p>
                </div>

                <!-- Days Picker -->
                <div class="schedule-picker-container">
                    <h3 style="margin-bottom: 15px;">Select Training Days</h3>
                    <p style="color: #666; margin-bottom: 20px;">Choose days for Day 1 through Day 4 (in order). Optional Mobility can be any day.</p>

                    <!-- Day 1 -->
                    <div class="day-picker-row">
                        <div class="day-picker-label">
                            <strong>Day 1</strong>
                            <span class="day-picker-description">Strength & Conditioning</span>
                        </div>
                        <div class="day-picker-options">
                            <label class="day-option">
                                <input type="radio" name="day1" value="monday" checked>
                                <span>Mon</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="wednesday">
                                <span>Wed</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="thursday">
                                <span>Thu</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="friday">
                                <span>Fri</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="saturday">
                                <span>Sat</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day1" value="sunday">
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <!-- Day 2 -->
                    <div class="day-picker-row">
                        <div class="day-picker-label">
                            <strong>Day 2</strong>
                            <span class="day-picker-description">Strength & Conditioning</span>
                        </div>
                        <div class="day-picker-options">
                            <label class="day-option">
                                <input type="radio" name="day2" value="monday">
                                <span>Mon</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="wednesday" checked>
                                <span>Wed</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="thursday">
                                <span>Thu</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="friday">
                                <span>Fri</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="saturday">
                                <span>Sat</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day2" value="sunday">
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <!-- Day 3 -->
                    <div class="day-picker-row">
                        <div class="day-picker-label">
                            <strong>Day 3</strong>
                            <span class="day-picker-description">Light Cardio & Mobility</span>
                        </div>
                        <div class="day-picker-options">
                            <label class="day-option">
                                <input type="radio" name="day3" value="monday">
                                <span>Mon</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="wednesday">
                                <span>Wed</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="thursday" checked>
                                <span>Thu</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="friday">
                                <span>Fri</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="saturday">
                                <span>Sat</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day3" value="sunday">
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <!-- Day 4 -->
                    <div class="day-picker-row">
                        <div class="day-picker-label">
                            <strong>Day 4</strong>
                            <span class="day-picker-description">Strength & Conditioning</span>
                        </div>
                        <div class="day-picker-options">
                            <label class="day-option">
                                <input type="radio" name="day4" value="monday">
                                <span>Mon</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="wednesday">
                                <span>Wed</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="thursday">
                                <span>Thu</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="friday" checked>
                                <span>Fri</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="saturday">
                                <span>Sat</span>
                            </label>
                            <label class="day-option">
                                <input type="radio" name="day4" value="sunday">
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <!-- Optional Mobility -->
                    <div class="day-picker-row">
                        <div class="day-picker-label">
                            <strong>Optional Mobility</strong>
                            <span class="day-picker-description">Light stretching and recovery</span>
                        </div>
                        <div class="day-picker-options">
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="monday">
                                <span>Mon</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="wednesday">
                                <span>Wed</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="thursday">
                                <span>Thu</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="friday">
                                <span>Fri</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="saturday">
                                <span>Sat</span>
                            </label>
                            <label class="day-option">
                                <input type="checkbox" name="mobility" value="sunday" checked>
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <button class="save-button" onclick="saveSchedule()" style="margin-top: 20px;">Save Schedule</button>
                </div>

                <!-- Preview Schedule -->
                <div style="margin-top: 30px;">
                    <h3 style="margin-bottom: 15px;">Your Weekly Schedule</h3>
                    <div id="schedule-preview" class="schedule-grid">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Google Calendar Integration -->
                <div style="margin-top: 40px;" class="google-calendar-section">
                    <h3 style="margin-bottom: 15px;">Google Calendar Integration</h3>
                    <div class="info-card">
                        <p>Sync your training schedule to Google Calendar and create tasks for each workout day.</p>
                        <div id="calendar-status" style="margin: 15px 0; padding: 10px; background: #f0f0f0; border-radius: 5px; display: none;">
                            <p id="calendar-status-text" style="margin: 0;"></p>
                        </div>
                        <button id="google-signin-btn" class="save-button" onclick="handleGoogleSignIn()">Connect Google Calendar</button>
                        <button id="google-sync-btn" class="save-button" onclick="syncToGoogleCalendar()" style="display: none;">Sync to Calendar</button>
                        <button id="google-signout-btn" class="reset-button" onclick="handleGoogleSignOut()" style="display: none; margin-left: 10px;">Disconnect</button>
                    </div>
                </div>

                <div style="margin-top: 30px;">
                    <h3 style="margin-bottom: 15px;">Scaling Options</h3>
                    <div class="about-section">
                        <p>Short on time? You can scale back the workouts:</p>
                        <ul style="margin-left: 20px;">
                            <li><strong>~15 minutes:</strong> 2-3 rounds warm-up, 1 round strength, 1 round conditioning, 1-2 rounds cool-down</li>
                            <li><strong>~20-25 minutes:</strong> 2-3 rounds warm-up, 2 rounds strength, 2 rounds conditioning, 1-2 rounds cool-down</li>
                            <li><strong>~25-30 minutes:</strong> 2-3 rounds warm-up, 2 rounds strength, 2-3 rounds conditioning, 2-3 rounds cool-down</li>
                            <li><strong>~30-60 minutes:</strong> Full workout - 3 rounds of everything</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- About FORCE Section -->
            <div id="about" class="section">
                <div class="about-section">
                    <h2>What is the FORCE Evaluation?</h2>
                    <p>The FORCE Evaluation is a reflection of the CAF minimal physical employment standard related to common defence and security duties known as the Universality of Service principle.</p>
                    <p>The FORCE Evaluation is designed to capture the movement patterns, energy systems, and muscle groups recruited in the performance of the Common Military Task Fitness Evaluation (CMTFE).</p>
                    <p><strong>There is one minimum standard for all CAF personnel.</strong></p>
                </div>

                <h3 style="margin: 30px 0 20px 0; color: #2c3e50;">FORCE Evaluation Components</h3>
                <div class="force-components">
                    <div class="force-component">
                        <h4>20m Rushes</h4>
                        <p>Complete two shuttle sprints (80m total), dropping to prone position every 10m.</p>
                        <p><strong>Standard:</strong> 51 seconds or less</p>
                    </div>

                    <div class="force-component">
                        <h4>Sandbag Lift</h4>
                        <p>30 consecutive lifts of a 20kg sandbag from floor to 1.0m height, alternating between left and right sandbags.</p>
                        <p><strong>Standard:</strong> 3 minutes 30 seconds or less</p>
                    </div>

                    <div class="force-component">
                        <h4>Intermittent Loaded Shuttles</h4>
                        <p>10 consecutive shuttles (400m total), alternating between loaded and unloaded shuttles with 20kg sandbag.</p>
                        <p><strong>Standard:</strong> 5 minutes 21 seconds or less</p>
                    </div>

                    <div class="force-component">
                        <h4>Sandbag Drag</h4>
                        <p>Carry one 20kg sandbag and pull a minimum of four sandbags over a 20m distance without stopping.</p>
                        <p><strong>Standard:</strong> Complete without stopping</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="cookie-storage.js"></script>
    <script src="workout-data.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>

    <!-- Vercel Analytics -->
    <script type="module">
        import { inject } from 'https://cdn.jsdelivr.net/npm/@vercel/analytics@1/dist/index.js';
        inject();
    </script>

    <!-- Vercel Speed Insights -->
    <script type="module">
        import { injectSpeedInsights } from 'https://cdn.jsdelivr.net/npm/@vercel/speed-insights@1/dist/index.js';
        injectSpeedInsights();
    </script>
</body>
</html>
